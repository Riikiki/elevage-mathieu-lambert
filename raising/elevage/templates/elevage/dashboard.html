{% extends "base.html" %}

{% block content %}
  <div class="container">
    
    <h1 class="h1-dashboard">Détails de l'élevage "{{ elevage.nom }}"</h1>

    <div class="columns">
      <div class="info-box">
        <h2>Informations générales :</h2>
        <ul class="info-list">
          {% comment %} Trying to update along the changes but it doesn't work i want to throw myself out of the window {% endcomment %}
          {% comment %} Nevermind I found it {% endcomment %}
          {% for field, value in elevage.getFieldsAndValues.items%}
            <li><strong>{{ field }}:</strong> {{ value }}</li>
          {% endfor %}
        </ul>
      
        <h2>Individus :</h2>
        <ul>
          <p>Nombre d'individus trouvés : {{ individus|length }}</p>

          {% for individu in individus %}
            <li>
              {{ individu.sexe }} — {{ individu.age }} mois 
            </li>
          {% empty %}
            <li>Aucun individu enregistré pour cet élevage.</li>
          {% endfor %}
        </ul>
      </div>

      <div class="form-box">
        <h2>Ajouter un individu :</h2>
        <h2>Actions du tour</h2>
        <form method="post">
          {% csrf_token %}
          {{ form.as_p }}
          <button type="submit">Valider le tour</button>
        </form>
      </div>

    {% if form.errors %}
      <ul class="errorlist">
        {% for field in form %}
          {% for error in field.errors %}
            <li>{{ error }}</li>
          {% endfor %}
        {% endfor %}
        {% for error in form.non_field_errors %}
          <li>{{ error }}</li>
        {% endfor %}
      </ul>
    {% endif %}
    </div>

    <a href="{% url 'elevage_liste' %}">Retour à la liste</a>
  </div> 
{% endblock %}
